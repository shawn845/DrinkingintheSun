:root{
  --bg:#fbf7ef;          /* warm off-white */
  --panel:#ffffff;
  --line:#eadfcd;
  --text:#3a3a3a;
  --muted:#7a7a7a;

  --sun:#27ae60;         /* green */
  --next:#f2c94c;        /* amber */
  --shade:#bdbdbd;

  --btn:#fff7e6;
  --btnHover:#fff0cf;

  --shadow: 0 6px 24px rgba(0,0,0,.08);
  --shadowSoft: 0 2px 14px rgba(0,0,0,.06);

  --r16:16px;
  --r20:20px;
  --r24:24px;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}

.app{
  min-height:100vh;
  min-height:100svh;
  min-height:100dvh;
  display:grid;
  grid-template-rows:auto auto 1fr;
}

.top{
  padding:14px 14px 10px;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:10px;
}

.title{
  font-size:22px;
  font-weight:900;
  letter-spacing:-0.2px;
}
.subtitle{
  margin-top:2px;
  font-size:13px;
  color:var(--muted);
}

.topActions{display:flex;gap:8px;align-items:center;flex-wrap:wrap}

.btn{
  border:1px solid var(--line);
  background:var(--btn);
  padding:10px 12px;
  border-radius:14px;
  cursor:pointer;
  color:var(--text);
  display:flex;
  gap:8px;
  align-items:center;
  box-shadow: var(--shadowSoft);
}
.btn:hover{background:var(--btnHover)}
.btnIcon{font-size:14px}

.bar{
  margin:0 14px 12px;
  border:1px solid var(--line);
  border-radius: var(--r20);
  background: var(--panel);
  box-shadow: var(--shadowSoft);
  padding:10px 10px;
  display:flex;
  gap:10px;
  justify-content:space-between;
  align-items:center;
}

.barLine{font-size:13px;font-weight:700}
.barHint{font-size:12px;color:var(--muted);margin-top:2px}

.barNav{
  display:flex;
  border:1px solid var(--line);
  border-radius:14px;
  overflow:hidden;
  background:#fff;
}
.navBtn{
  border:0;
  padding:10px 12px;
  background:transparent;
  cursor:pointer;
  color:var(--text);
  font-size:13px;
  min-width:92px;
}
.navBtn.isOn{
  background:#fff3d2;
  font-weight:800;
}

.main{
  padding:0 14px 14px;
  display:grid;
  grid-template-columns: 1fr;
  gap:12px;
}

/* Mobile-first: list only by default; map is toggled */
.panel{
  border:1px solid var(--line);
  border-radius: var(--r24);
  background: var(--panel);
  box-shadow: var(--shadow);
  overflow:hidden;
}

.listPanel{
  padding:12px;
}

.mapPanel{
  display:none;
}

#map{
  height:70vh;
  height:70svh;
  height:70dvh;
  min-height:420px;
  width:100%;
}
.mapFoot{
  padding:10px 12px;
  border-top:1px solid var(--line);
  font-size:12px;
  color:var(--muted);
}

/* Plan cards */
.plan{
  display:grid;
  gap:10px;
  margin-bottom:12px;
}

.planHeader{
  font-size:12px;
  color:var(--muted);
  margin:2px 2px 6px 2px;
}

.bigCard{
  border:1px solid var(--line);
  border-radius: var(--r20);
  padding:12px;
  background:#fff;
  position:relative;
  overflow:hidden;
}

.bigCard::before{
  content:"";
  position:absolute;
  left:0; top:0; bottom:0;
  width:8px;
  background: var(--shade);
}

.bigCard.sun::before{ background: var(--sun); }
.bigCard.next::before{ background: var(--next); }

.bigTop{
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:flex-start;
}

.bigTitle{
  font-size:16px;
  font-weight:900;
  letter-spacing:-0.2px;
}
.bigSub{
  margin-top:2px;
  font-size:12px;
  color:var(--muted);
  line-height:1.35;
}

.pill{
  border:1px solid var(--line);
  border-radius:999px;
  padding:7px 10px;
  font-size:12px;
  font-weight:800;
  white-space:nowrap;
}
.pill.sun{ background: rgba(39,174,96,.10); border-color: rgba(39,174,96,.25); }
.pill.next{ background: rgba(242,201,76,.14); border-color: rgba(242,201,76,.28); }
.pill.shade{ background: rgba(189,189,189,.12); border-color: rgba(189,189,189,.22); color:#555; }

.bigBody{
  margin-top:10px;
  display:grid;
  gap:6px;
}

.rowLine{
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:center;
  font-size:14px;
  color:var(--text);
}
.rowLine strong{font-weight:900}

.mini{
  font-size:12px;
  color:var(--muted);
  line-height:1.35;
}

.actions{
  margin-top:10px;
  display:flex;
  gap:8px;
}
.actionBtn{
  flex:1;
  border:1px solid var(--line);
  border-radius:14px;
  padding:10px 12px;
  background:#fff;
  cursor:pointer;
  font-weight:800;
}
.actionBtn:hover{background:#fffaf0}
.actionBtn.primary{
  background:#fff3d2;
}
.actionBtn.primary:hover{background:#ffedbf}

.section{margin-top:8px}
.sectionTitle{
  font-size:12px;
  font-weight:900;
  color:var(--muted);
  margin:8px 2px 8px;
  letter-spacing:.2px;
}

.results{display:grid;gap:10px}

.card{
  border:1px solid var(--line);
  border-radius: var(--r20);
  padding:12px;
  background:#fff;
  cursor:pointer;
}

.cardTop{
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:flex-start;
}

.cardTitle{
  font-weight:900;
  letter-spacing:-0.2px;
}
.cardSub{
  margin-top:2px;
  font-size:12px;
  color:var(--muted);
}

.cardBody{
  margin-top:10px;
  border-top:1px dashed var(--line);
  padding-top:10px;
  display:grid;
  gap:6px;
}

.badge{
  border:1px solid var(--line);
  border-radius:999px;
  padding:6px 10px;
  font-size:12px;
  font-weight:900;
  white-space:nowrap;
}
.badge.sun{ background: rgba(39,174,96,.10); border-color: rgba(39,174,96,.25); }
.badge.next{ background: rgba(242,201,76,.14); border-color: rgba(242,201,76,.28); }
.badge.none{ background: rgba(189,189,189,.12); border-color: rgba(189,189,189,.22); color:#555; }

.foot{
  margin-top:12px;
  padding:10px 2px 2px;
  font-size:12px;
  color:var(--muted);
}

/* Leaflet div icons for pins 1/2 */
.pin{
  width:30px;height:30px;
  border-radius:999px;
  border:2px solid #fff;
  box-shadow:0 2px 10px rgba(0,0,0,.18);
  display:flex;align-items:center;justify-content:center;
  font-weight:900;
}
.pin.one{background: var(--sun); color:#fff;}
.pin.two{background: var(--next); color:#2f2f2f;}

/* Simple “tap targets” */
button, .card { -webkit-tap-highlight-color: transparent; }
