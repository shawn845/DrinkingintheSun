<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Drinking in the Sun</title>
  <link rel="manifest" href="./manifest.json" />
  <link rel="stylesheet" href="./public/styles.css" />

  <!-- Leaflet (map) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
</head>
<body>
  <div class="app">
    <div class="topbar">
      <button id="nearBtn" class="btn"><span id="nearBtnText">Near me</span></button>
      <button id="louBtn" class="btn lou"><span id="louBtnText">Lou Reed</span></button>
      <button id="viewToggleBtn" class="btn"><span id="viewToggleText">Map</span></button>
    </div>

    <div class="status">
      <div id="statusLine" class="statusLine">Tap Near me for walking times.</div>
      <div id="statusHint" class="statusHint"></div>
    </div>

    <div id="listPanel" class="panel">
      <div id="plan"></div>
      <div class="sectionTitle">Next sunny nearby</div>
      <div id="results"></div>
    </div>

    <div id="mapPanel" class="panel" style="display:none">
      <div id="map" class="map"></div>
    </div>
  </div>

  <!-- Lou Reed overlay -->
  <div id="louOverlay" class="overlay" style="display:none" aria-hidden="true">
    <div class="overlayCard">
      <div class="overlayTop">
        <div>
          <div class="overlayTitle">Perfect Day</div>
          <div class="overlaySub">A 4–5 pub plan that tries to keep you in the sun.</div>
        </div>
        <button id="louClose" class="iconBtn" type="button" aria-label="Close">✕</button>
      </div>

      <div class="overlayControls">
        <div class="seg">
          <button id="modeWalk" class="segBtn active" type="button">Walking</button>
          <button id="modeCycle" class="segBtn" type="button">Cycling</button>
        </div>

        <label class="field">
          <span>Start time</span>
          <input id="louStart" type="time" value="12:00" />
        </label>

        <label class="field">
          <span>Stops</span>
          <select id="louStops">
            <option value="4">4 pubs</option>
            <option value="5" selected>5 pubs</option>
          </select>
        </label>

        <button id="louBuild" class="btn primary" type="button">Build plan</button>
      </div>

      <div id="louOut" class="overlayOut"></div>
      <div class="overlayHint">Tip: tap “Near me” first for better routing.</div>
    </div>
    <div id="louBackdrop" class="overlayBackdrop"></div>
  </div>

  <!-- SunCalc (sun position) -->
  <script src="https://unpkg.com/suncalc@1.9.0/suncalc.js"></script>

  <!-- Leaflet (map) -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

  <script src="./public/app.js"></script>
</body>
</html>
